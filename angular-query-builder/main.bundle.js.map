{"version":3,"sources":["webpack:///./src/query-builder/query-builder-group.component.ts","webpack:///./src/query-builder/query-builder.component.ts","webpack:///./src/query-builder/query-builder.interfaces.ts","webpack:///./src async","webpack:///./src/main.ts","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/environments/environment.ts","webpack:///./src/query-builder/query-builder.module.ts","webpack:///./src/query-builder/query-builder-group.css","webpack:///./src/app/app.component.html","webpack:///./src/query-builder/query-builder-group.html","webpack:///./src/query-builder/query-builder.html"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["import { SimpleChange, Component, AfterViewInit, Input, EventEmitter, Output } from '@angular/core';\r\nimport { ListItem, Group, Rule, Filter, Utils } from 'query-builder/query-builder.interfaces';\r\n\r\n@Component({\r\n    selector: 'query-builder-group',\r\n    templateUrl: 'query-builder-group.html',\r\n    styleUrls: ['query-builder-group.css']\r\n})\r\nexport class QueryBuilderGroupComponent implements AfterViewInit {\r\n\r\n    @Output('onQueryUpdated') onQueryUpdated: EventEmitter<Group> = new EventEmitter<Group>();\r\n    \r\n    @Input('parent-group') parentGroup: Group;\r\n    @Input('group') group: Group;\r\n    @Input('fields') fields: Array<ListItem>;\r\n    @Input('operators') operators: Array<ListItem>;\r\n    @Input('conditions') conditions: Array<ListItem>;\r\n\r\n    public isLoaded: boolean = false;\r\n    public output: any;\r\n\r\n    constructor() {\r\n        this.isLoaded = false;\r\n    }\r\n\r\n    public ngAfterViewInit(): void {\r\n        //for some reason it does not seem to work unless this is\r\n        //wrap in a setTimeout or some other mechanism to trigger change detection\r\n        setTimeout(() => {\r\n            this.isLoaded = true;;\r\n        })\r\n    }\r\n\r\n    ngOnChanges(changes: { [propertyName: string]: SimpleChange }): void {\r\n        console.log(changes);\r\n    }\r\n\r\n    //handle any events from children and send them on up\r\n    public queryUpdated(group: Group): void {\r\n        this.onQueryUpdated.emit(this.group);\r\n    }\r\n\r\n    //make sure the value has changed and emit the onQueryUpdated event\r\n    public changeGroupOperator(value: ListItem): void {\r\n        this.group.operator = value;\r\n        this.onQueryUpdated.emit(this.group);\r\n    }\r\n\r\n    //make sure the value has changed and emit the onQueryUpdated event\r\n    public changeRuleField(rule: Rule, value: ListItem): void {\r\n        rule.field = value;\r\n        this.onQueryUpdated.emit(this.group);\r\n    }\r\n\r\n    //make sure the value has changed and emit the onQueryUpdated event\r\n    public changeRuleCondition(rule: Rule, value: ListItem): void {\r\n        rule.condition = value;\r\n        this.onQueryUpdated.emit(this.group);\r\n    }\r\n\r\n    //make sure the value has changed and emit the onQueryUpdated event\r\n    public changeRuleData(rule: Rule, value: string): void {\r\n        rule.data = value;\r\n        this.onQueryUpdated.emit(this.group);\r\n    }\r\n\r\n    //add a new condition and emit the onQueryUpdated event\r\n    public addCondition(): void {\r\n        this.group.rules.push({\r\n            condition: { name: 'AND', id: 'and' },\r\n            field: { name: '', id: '' },\r\n            data: ''\r\n        });\r\n        this.onQueryUpdated.emit(this.group);\r\n    }\r\n\r\n    //remove a condition and emit the onQueryUpdated event\r\n    public removeCondition(index) {\r\n        this.group.rules.splice(index, 1);\r\n        this.onQueryUpdated.emit(this.group);\r\n    }\r\n\r\n    //add a new group and emit the onQueryUpdated event\r\n    public addGroup(): void {\r\n        console.log(this.group);\r\n        this.group.rules.push({\r\n            group: {\r\n                groupId: Utils.generateUUID(),\r\n                operator: { name: 'AND', id: 'and' },\r\n                rules: []\r\n            }\r\n        });\r\n        console.log(this.group);\r\n        this.onQueryUpdated.emit(this.group);\r\n    }\r\n\r\n    //remove a group and emit the onQueryUpdated event\r\n    public removeGroup(): void {\r\n        if (this.parentGroup === undefined) {\r\n            return;\r\n        }\r\n        let index: number = this.parentGroup.rules.findIndex((r: Rule) => {\r\n            return r.hasOwnProperty('group') && r.group.groupId === this.group.groupId;\r\n        });\r\n        this.parentGroup.rules.splice(index, 1);\r\n        this.onQueryUpdated.emit(this.group);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/query-builder/query-builder-group.component.ts","import { Component, OnInit, ViewChild, Input, AfterViewInit, Output, EventEmitter } from '@angular/core';\r\nimport { QueryBuilderGroupComponent } from './query-builder-group.component';\r\nimport { Filter, ListItem, Utils, Rule, Group } from \"query-builder/query-builder.interfaces\";\r\n\r\n@Component({\r\n    selector: 'query-builder',\r\n    templateUrl: 'query-builder.html' \r\n})\r\nexport class QueryBuilderComponent {\r\n\r\n    @ViewChild('queryBuilderGroup') queryBuilderGroup: QueryBuilderGroupComponent;\r\n\r\n    @Output('onQueryUpdated') onQueryUpdated: EventEmitter<Filter> = new EventEmitter<Filter>();\r\n\r\n    @Input('fields') fields: Array<ListItem>;\r\n    @Input('operators') operators: Array<ListItem>;\r\n    @Input('conditions') conditions: Array<ListItem>;\r\n\r\n    public filter: Filter;\r\n    public output: string;\r\n\r\n    constructor() {\r\n        this.filter = {\r\n            group: {\r\n                groupId: Utils.generateUUID(),\r\n                operator: { name: 'AND', id: 'and' },\r\n                rules: []\r\n            }\r\n        };\r\n    }\r\n\r\n    //handle the onQueryUpdated event and pass it on up \r\n    public queryUpdated(group: Group): void {\r\n        this.onQueryUpdated.emit(this.filter);\r\n    }\r\n\r\n    //replace html entities\r\n    private htmlEntities(str): string {\r\n        return String(str).replace(/</g, '&lt;').replace(/>/g, '&gt;');\r\n    }\r\n\r\n    //convert the object into a text query that can be used\r\n    public computed(group: Group): string {\r\n        if (!group) return '';\r\n        let str = '';\r\n        for (let i = 0; i < group.rules.length; i++) {\r\n\r\n            let rule: Rule = group.rules[i];\r\n            \r\n            let operatorName: string = Utils.isNull(group.operator) ||\r\n                Utils.isBlankString(group.operator.name) ? '' :\r\n                group.operator.name;\r\n\r\n            let ruleFieldName: string = Utils.isNull(rule.field) ||\r\n                Utils.isBlankString(rule.field.name) ? '' :\r\n                rule.field.name;\r\n\r\n            let conditionName: string = Utils.isNull(rule.condition) ||\r\n                Utils.isBlankString(rule.condition.name) ? '' :\r\n                rule.condition.name;\r\n\r\n            let value: string = Utils.isBlankString(rule.data) ?\r\n                '' :\r\n                rule.data;\r\n\r\n            if (!Utils.isBlankString(rule.data)) {\r\n                value = '\\'' + value + '\\'';\r\n            }\r\n\r\n            i > 0 && (str += ' ' + operatorName + ' ');\r\n\r\n            str += rule.group ?\r\n                this.computed(rule.group) :\r\n                ruleFieldName + ' ' + this.htmlEntities(conditionName) + ' ' + value;\r\n        }\r\n\r\n        str = str.trim();\r\n\r\n        if (Utils.isBlankString(str)) {\r\n            return '';\r\n        }\r\n        return '(' + str + ')';\r\n    }\r\n\r\n    //allow component creating the query builder to get the query text\r\n    public getOutput(): string {\r\n        return this.computed(this.filter.group);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/query-builder/query-builder.component.ts","//Misc interfaces and classes used in the Query Builder\r\n\r\nexport interface IQueryBuilderComponent{\r\n    getOutput(): string;\r\n}\r\n\r\nexport interface ListItem {\r\n  id: any;\r\n  name: string;\r\n} \r\n\r\nexport interface Rule {\r\n  condition?: ListItem;\r\n  field?: ListItem;\r\n  data?: any;\r\n  group?: Group;\r\n}\r\n\r\nexport interface Group {\r\n  groupId: string;\r\n  rules: Array<Rule>;\r\n  operator: ListItem;\r\n}\r\n\r\nexport interface Filter {\r\n  group: Group;\r\n}\r\n\r\nexport class Utils {\r\n  static generateUUID(): string { // Public Domain/MIT\r\n    var d = new Date().getTime();\r\n    if (typeof performance !== 'undefined' && typeof performance.now === 'function') {\r\n      d += performance.now(); //use high-precision timer if available\r\n    }\r\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n      var r = (d + Math.random() * 16) % 16 | 0;\r\n      d = Math.floor(d / 16);\r\n      return (c === 'x' ? r : (r & 0x3 | 0x8)).toString(16);\r\n    });\r\n  }\r\n\r\n  static isNull(obj: any): boolean {\r\n    return (typeof obj === 'undefined' || obj === null);\r\n  }\r\n\r\n  static isBlankString(s: any): boolean {\r\n    return (this.isNull(s) || s === '');\r\n  }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/query-builder/query-builder.interfaces.ts","function webpackEmptyContext(req) {\n\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 293;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src async\n// module id = 293\n// module chunks = 1","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts","import { Component, ViewChild } from '@angular/core';\r\nimport { ListItem, Filter } from \"query-builder/query-builder.interfaces\";\r\nimport { QueryBuilderComponent } from \"query-builder/query-builder.component\";\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  providers: [QueryBuilderComponent]\r\n})\r\nexport default class AppComponent {\r\n\r\n  @ViewChild('qb') _queryBuilder: QueryBuilderComponent;\r\n\r\n  public title: string = 'Angular Query Builder!';\r\n  public output: string;\r\n\r\n  public fields: Array<ListItem>;\r\n  public operators: Array<ListItem>;\r\n  public conditions: Array<ListItem>;\r\n\r\n  constructor() {\r\n    //create the vales that will populate the dropdowns of the query builder\r\n    //to get more control over the expression created you may want to move these queryUpdated\r\n    //to the query-builder- and query-builder-group and also change the ListItem type to your \r\n    //custom types\r\n    this.fields = [\r\n      { name: 'Firstname', id: 'firstname' },\r\n      { name: 'Lastname', id: 'lastname' },\r\n      { name: 'Birthdate', id: 'birthdate' },\r\n      { name: 'City', id: 'city' },\r\n      { name: 'Country', id: 'country' }\r\n    ];\r\n    this.operators = [\r\n      { name: 'AND', id: 'and' },\r\n      { name: 'OR', id: 'or' }\r\n    ];\r\n    this.conditions = [\r\n      { name: '=', id: '=' },\r\n      { name: '<>', id: '<>' },\r\n      { name: '<', id: '<' },\r\n      { name: '<=', id: '<=' },\r\n      { name: '>', id: '>' },\r\n      { name: '>=', id: '>=' }\r\n    ];\r\n  }\r\n\r\n  public queryUpdated(filter: Filter): void {\r\n    console.log(filter);\r\n     this.output = this._queryBuilder.getOutput();\r\n  }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { HttpModule } from '@angular/http';\nimport AppComponent from './app.component';\nimport { QueryBuilderModule } from \"query-builder/query-builder.module\"; \n\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    BrowserModule,\n    FormsModule,\n    HttpModule,\n    QueryBuilderModule\n  ], \n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","export const environment = {\n  production: true\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/environments/environment.ts","import { NgModule } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { QueryBuilderComponent } from './query-builder.component';\r\nimport { QueryBuilderGroupComponent } from './query-builder-group.component';\r\n\r\n@NgModule({\r\n  entryComponents: [\r\n    QueryBuilderComponent\r\n  ],\r\n  imports:\r\n  [\r\n    BrowserModule,\r\n    FormsModule\r\n  ],\r\n  declarations:\r\n  [\r\n    QueryBuilderComponent,\r\n    QueryBuilderGroupComponent\r\n  ],\r\n  exports: [\r\n    QueryBuilderComponent\r\n  ]\r\n})\r\nexport class QueryBuilderModule { }\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/query-builder/query-builder.module.ts","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".filter-group{margin-top:10px;margin-bottom:10px;border-color:#c09853;border-color:#fbeed5;border-color:#dcc896}.inline{display:inline-block}.group{background-color:#fff;padding:15px;border-radius:5px;border:solid 1px #666}.group-conditions{margin-left:20px}.condition,.group{margin-top:15px;margin-bottom:15px}.alert-warning{color:#8a6d3b;background-color:#fcf8e3;border-color:#faebcc}.alert{padding:15px;margin-bottom:20px;border:1px solid transparent;border-radius:4px}.operator{width:75px}.rule-field{width:200px}.rule-condition{widows:60px}.rule-data{margin-left:5px}.remove-condition{margin-left:5px}.add-condition{margin-left:5px}.remove-group{margin-left:5px}.add-group{margin-left:5px}\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/query-builder/query-builder-group.css\n// module id = 458\n// module chunks = 1","module.exports = \"<div>\\r\\n    <h2>{{title}}</h2>\\r\\n    <div class=\\\"alert alert-info\\\">\\r\\n        <span [innerHTML]=\\\"output\\\"></span>\\r\\n    </div>\\r\\n    <query-builder #qb (onQueryUpdated)=\\\"queryUpdated($event)\\\" \\r\\n                       [fields]=\\\"fields\\\" \\r\\n                       [operators]=\\\"operators\\\" \\r\\n                       [conditions]=\\\"conditions\\\"></query-builder>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.html\n// module id = 460\n// module chunks = 1","module.exports = \"<div *ngIf=\\\"isLoaded\\\" class=\\\"filter-group\\\">\\r\\n    <div class=\\\"inline\\\">\\r\\n        <select [(ngModel)]=\\\"group.operator\\\" (ngModelChange)=\\\"changeGroupOperator($event)\\\" class=\\\"operator\\\">\\r\\n            <option [ngValue]=\\\"o\\\" [value]=\\\"o\\\" *ngFor=\\\"let o of operators\\\">{{o.name}}</option>\\r\\n        </select>\\r\\n        <button class=\\\"add-condition\\\" (click)=\\\"addCondition()\\\" class=\\\"k-button btn-success\\\"> <span class=\\\"i-plus\\\"></span>Add Condition</button>\\r\\n        <button class=\\\"add-group\\\" (click)=\\\"addGroup()\\\" class=\\\"k-button btn-success\\\"> <span class=\\\"i-plus\\\"></span>Add Group</button>\\r\\n        <button class=\\\"remove-group\\\" (click)=\\\"removeGroup()\\\" class=\\\"k-button btn-danger\\\" *ngIf=\\\"parentGroup\\\"> <span class=\\\"i-minus\\\"></span>Remove Group</button>\\r\\n    </div>\\r\\n    <div class=\\\"group-conditions\\\">\\r\\n        <div class=\\\"condition\\\">\\r\\n            <div *ngFor=\\\"let rule of group.rules\\\">\\r\\n                <div *ngIf=\\\"rule.hasOwnProperty('group')\\\">\\r\\n                    <query-builder-group (onQueryUpdated)=\\\"queryUpdated($event)\\\" [fields]=\\\"fields\\\" [operators]=\\\"operators\\\" [conditions]=\\\"conditions\\\"\\r\\n                        [group]=\\\"rule.group\\\" [parent-group]=\\\"group\\\"></query-builder-group>\\r\\n                </div>\\r\\n                <div *ngIf=\\\"!rule.hasOwnProperty('group')\\\">\\r\\n                    <div class=\\\"form-inline\\\">\\r\\n                        <select class=\\\"rule-field\\\" [(ngModel)]=\\\"rule.field\\\" (ngModelChange)=\\\"changeRuleField(rule, $event)\\\">\\r\\n                            <option [ngValue]=\\\"f\\\" *ngFor=\\\"let f of fields\\\">{{f.name}}</option>\\r\\n                        </select>\\r\\n                        <select class=\\\"rule-condition\\\" [(ngModel)]=\\\"rule.condition\\\" (ngModelChange)=\\\"changeRuleCondition(rule, $event)\\\">\\r\\n                            <option [ngValue]=\\\"c\\\" *ngFor=\\\"let c of conditions\\\">{{c.name}}</option>\\r\\n                        </select>\\r\\n                        <input class=\\\"rule-data\\\" type=\\\"text\\\" [(ngModel)]=\\\"rule.data\\\" (ngModelChange)=\\\"changeRuleData(rule, $event)\\\" class=\\\"k-textbox\\\"\\r\\n                        />\\r\\n                        <button class=\\\"remove-condition\\\" (click)=\\\"removeCondition($index)\\\" class=\\\"k-button btn-danger\\\"> <span class=\\\"i-minus\\\">Remove Condition</span> </button>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/query-builder/query-builder-group.html\n// module id = 461\n// module chunks = 1","module.exports = \" <query-builder-group (onQueryUpdated)=\\\"queryUpdated($event)\\\"\\r\\n                             [fields]=\\\"fields\\\" \\r\\n                             [operators]=\\\"operators\\\" \\r\\n                             [conditions]=\\\"conditions\\\"  \\r\\n                             [group]=\\\"filter.group\\\"></query-builder-group>    \"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/query-builder/query-builder.html\n// module id = 462\n// module chunks = 1"],"sourceRoot":""}